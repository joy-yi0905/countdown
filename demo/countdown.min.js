!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Countdown=r():e.Countdown=r()}(this,function(){return function(e){function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n={};return r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,n){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){for(var n in e)e.hasOwnProperty(n)&&void 0===r[n]&&(r[n]=e[n]);return r}function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(e=""+e;e.length<r;)e="0"+e;return e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),m={begin:new Date,end:"2030/01/01",timestamp:0,isFormat:!1,isMilliSecond:!1,change:function(e){console.log(e)},over:function(){console.log("The countdown is over")}},c=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.params=i(m,r)}return s(e,[{key:"init",value:function(){var e=this,r=0,n=0,t=0,i=0,s=0,m=0,c=this.params.begin,u=this.params.end,l={},f={yyyy:31557600,dd:86400,hh:3600,mm:60,ss:1},y=e.params.isMilliSecond?10:1e3,p=e.params.isMilliSecond?10:1,h=e.params.isMilliSecond?1:1e3;if(e.params.isMilliSecond)for(var d in f)f[d]*=1e3;var v=function(e,r){switch(r){case"year":e%=f.yyyy;break;case"day":e=e%f.yyyy%f.dd;break;case"hour":e=e%f.yyyy%f.dd%f.hh;break;case"minute":e=e%f.yyyy%f.dd%f.hh%f.mm}return e};if(0!==e.remain){if(!e.remain){if(e.params.timestamp?e.remain=e.params.timestamp*(1e3/h):(c="object"===(void 0===c?"undefined":a(c))?c.getTime():new Date(c.replace(/-/g,"/")).getTime(),u=new Date(u.replace(/-/g,"/")).getTime(),e.remain=Math.floor((u-c)/h)),isNaN(e.remain))throw Error("请输入正确的开始时间或结束时间");if(e.remain<=0)throw Error("结束时间不能小于起始时间")}this.starting=!0;var b=function(){if(e.remain-=p,g(),e.remain<=(e.params.isMilliSecond?10:0))return clearInterval(e.timer),e.remain=0,e.params.isMilliSecond&&(l.ms="00"),e.params.change&&e.params.change(l),e.params.over&&e.params.over()},g=function(){r=Math.floor(e.remain/f.yyyy),n=Math.floor(v(e.remain,"year")/f.dd),t=Math.floor(v(e.remain,"day")/f.hh),i=Math.floor(v(e.remain,"hour")/f.mm),s=e.params.isMilliSecond?Math.floor(v(e.remain,"minute")/f.ss):Math.floor(v(e.remain,"minute")%f.mm),m=e.params.isMilliSecond?(Math.floor(v(e.remain,"minute")%f.ss)+"").substr(0,2):"",e.params.isFormat&&(r=o(r,4),n=o(n),t=o(t),i=o(i),s=o(s)),l={yyyy:r,dd:n,hh:t,mm:i,ss:s},e.params.isMilliSecond&&(l.ms=m),e.params.change&&e.params.change(l)};e.timer&&clearInterval(this.timer),e.timer=setInterval(b,y),g()}}},{key:"start",value:function(){this.starting||this.init()}},{key:"stop",value:function(){clearInterval(this.timer),this.starting=!1}}]),e}();e.exports=c}])});